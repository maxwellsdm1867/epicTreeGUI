---
phase: 01-foundation-legal
plan: 03
type: execute
wave: 2
depends_on: ["01-01", "01-02"]
files_modified:
  - README.md
  - examples/quickstart.m
  - examples/data/sample_epochs.mat
autonomous: true

must_haves:
  truths:
    - "User can read README.md and understand what epicTreeGUI is in 30 seconds"
    - "User can follow installation instructions in README and verify setup"
    - "User can run quickstart example from README with bundled sample data without errors"
    - "No hardcoded absolute paths exist in any example script"
  artifacts:
    - path: "README.md"
      provides: "Professional project overview with installation and quick start"
      contains: "epicTreeGUI"
      min_lines: 50
    - path: "examples/quickstart.m"
      provides: "Self-contained quick start example matching README code"
      contains: "loadEpicTreeData"
    - path: "examples/data/sample_epochs.mat"
      provides: "Bundled sample data for examples"
  key_links:
    - from: "README.md"
      to: "install.m"
      via: "Installation instructions reference"
      pattern: "install"
    - from: "README.md"
      to: "examples/quickstart.m"
      via: "Quick start code block matches example script"
      pattern: "quickstart"
    - from: "examples/quickstart.m"
      to: "examples/data/sample_epochs.mat"
      via: "Relative path data loading"
      pattern: "fullfile.*data.*sample"
---

<objective>
Create the README.md, bundle sample data, and create a working quickstart example that demonstrates the full scientific workflow (load, build, select, analyze, plot).

Purpose: This is the user's first impression — README explains the tool in 30 seconds, installation works on first try, and the example runs without errors using bundled data.
Output: README.md at root, quickstart.m example, bundled sample_epochs.mat data file.
</objective>

<execution_context>
@/Users/maxwellsdm/.claude/get-shit-done/workflows/execute-plan.md
@/Users/maxwellsdm/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation-legal/01-RESEARCH.md
@.planning/phases/01-foundation-legal/01-01-SUMMARY.md
@.planning/phases/01-foundation-legal/01-02-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Bundle sample data and create quickstart example</name>
  <files>examples/quickstart.m, examples/data/sample_epochs.mat, examples/example_analysis_workflow.m</files>
  <action>
1. Create sample data by extracting a minimal subset from the test data:
   - Source: `/Users/maxwellsdm/Documents/epicTreeTest/analysis/2025-12-02_F.mat`
   - Use MATLAB (via MCP tools) to load the data, select ~50 epochs from 1 cell type with 2-3 protocols
   - Save as `examples/data/sample_epochs.mat` in v7.3 format
   - Target size: under 500 KB (well under 10 MB limit)
   - Strip any absolute file paths from epoch structs (h5_file field) — set to empty or relative
   - Verify the saved file loads correctly with `loadEpicTreeData()`

2. Create `examples/quickstart.m` as a MATLAB script (not function) that:
   - Uses `fileparts(mfilename('fullpath'))` to resolve data path relative to script location
   - Checks if epicTreeTools is on path; if not, runs install.m from parent directory
   - Loads sample_epochs.mat from examples/data/
   - Builds tree with 2 split levels: `@epicTreeTools.splitOnCellType` and `@epicTreeTools.splitOnProtocol` (or string key path equivalent)
   - Navigates to a leaf node
   - Calls `getSelectedData()` to extract data matrix
   - Computes mean trace
   - Plots result with labeled axes (Time in ms, Response amplitude)
   - Includes clear comments explaining each step
   - NO hardcoded absolute paths anywhere
   - Academic professional tone in comments

3. Fix `examples/example_analysis_workflow.m`:
   - Replace ALL hardcoded paths with relative paths using `fileparts(mfilename('fullpath'))`
   - Point data loading to `examples/data/sample_epochs.mat` as default
   - Add path existence check at top
   - Keep all 10 usage patterns but ensure they work with sample data (gracefully skip patterns that need H5 data)
  </action>
  <verify>
Using MCP MATLAB tools:
```matlab
% Verify sample data loads
[data, meta] = loadEpicTreeData('examples/data/sample_epochs.mat');
fprintf('Loaded %d epochs\n', length(data));

% Verify quickstart runs
run('examples/quickstart.m');
```
Also verify: `grep -r '/Users/' examples/` returns no matches (no hardcoded paths).
  </verify>
  <done>Sample data bundled under 500 KB, quickstart.m runs end-to-end with bundled data, no hardcoded paths in any example</done>
</task>

<task type="auto">
  <name>Task 2: Write README.md</name>
  <files>README.md</files>
  <action>
Write README.md at repository root. Per user decision: academic professional tone, tool-first identity, programmatic quick start. Reference `riekesuitworkflow.md` (now in docs/dev/) for legacy context.

**Structure (per research recommendations):**

1. **Title**: `# EpicTreeGUI`

2. **Tagline** (1 line): "A MATLAB GUI for browsing and analyzing neurophysiology epoch data."

3. **Overview** (2-3 sentences):
   - What it does: hierarchical organization and analysis of neurophysiology epochs
   - How it works: dynamic tree structures using configurable splitting criteria
   - Legacy note (ONE line, italicized): *Replaces the legacy Rieke Lab Java-based epoch tree system.*

4. **Features** (bullet list, 5-7 items):
   - Dynamic tree organization with 22+ built-in splitter functions
   - Interactive GUI with checkbox-based epoch selection
   - Programmatic API for scripted analysis workflows
   - Selection state persistence (.ugm files)
   - Lazy loading from H5 data files
   - Compatible with RetinAnalysis Python export pipeline

5. **Requirements**:
   - MATLAB R2019b or later
   - No additional toolboxes required
   - Operating system: Windows, macOS, Linux

6. **Installation** (numbered steps):
   - Clone repository
   - Run `install` in MATLAB
   - Verify with `help epicTreeTools`

7. **Quick Start** (code block):
   - Copy the core workflow from quickstart.m (Task 1)
   - Load -> Build tree -> Extract data -> Analyze -> Plot
   - Must match what's in examples/quickstart.m exactly

8. **Citation** section:
   - Brief note: "If you use this software in academic work, please cite:"
   - BibTeX block
   - Reference to CITATION.cff

9. **Documentation** section:
   - Links to docs/UserGuide.md, examples/, docs/ directory
   - Brief description of each

10. **License** section:
    - "MIT License - see [LICENSE](LICENSE) file."

**Style rules:**
- Academic professional tone throughout (like a methods paper supplement)
- No emojis, no badges, no marketing language
- Concise — total README should be 80-120 lines
- Code blocks use MATLAB syntax highlighting (```matlab)
  </action>
  <verify>
- README.md exists at root
- Contains sections: Overview, Requirements, Installation, Quick Start, Citation, Documentation, License
- Quick start code block matches examples/quickstart.m content
- No hardcoded paths in README
- `grep -c 'emoji\|badge\|awesome\|amazing' README.md` returns 0
- Total line count between 80-150
  </verify>
  <done>README.md exists with professional academic tone, working quick start example, installation instructions, and citation information. User can understand what epicTreeGUI is within 30 seconds of reading.</done>
</task>

</tasks>

<verification>
1. `examples/data/sample_epochs.mat` exists and is under 1 MB
2. `examples/quickstart.m` runs without errors using bundled data (test via MCP MATLAB)
3. README.md contains all required sections
4. `grep -r '/Users/' examples/` returns no matches
5. `grep -r '/Users/' README.md` returns no matches
6. Quick start code in README matches examples/quickstart.m
7. README tone is academic professional (no emojis, no marketing language)
</verification>

<success_criteria>
A new user can: (1) read README.md and understand the tool in 30 seconds, (2) follow installation instructions successfully, (3) run the quickstart example with bundled data and see a plot of neural response data. No step requires external data, absolute paths, or prior knowledge of the Rieke Lab system.
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-legal/01-03-SUMMARY.md`
</output>
