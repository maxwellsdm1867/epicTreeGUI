---
phase: 01-foundation-legal
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - LICENSE
  - CITATION.cff
  - CHANGELOG.md
  - install.m
autonomous: true

must_haves:
  truths:
    - "User can see MIT LICENSE file at repository root"
    - "User can cite epicTreeGUI using CITATION.cff metadata"
    - "User can run install.m and have all epicTreeGUI functions available"
    - "User can verify installation succeeded with help epicTreeTools"
  artifacts:
    - path: "LICENSE"
      provides: "MIT License text"
      contains: "MIT License"
    - path: "CITATION.cff"
      provides: "Academic citation metadata in CFF 1.2.0 format"
      contains: "cff-version: 1.2.0"
    - path: "CHANGELOG.md"
      provides: "Version history in Keep a Changelog format"
      contains: "## [1.0.0]"
    - path: "install.m"
      provides: "MATLAB path setup script"
      contains: "addpath"
  key_links:
    - from: "install.m"
      to: "src/"
      via: "addpath calls with relative paths"
      pattern: "addpath.*fullfile.*src"
    - from: "install.m"
      to: "epicTreeTools"
      via: "verification check after path setup"
      pattern: "exist.*epicTreeTools"
---

<objective>
Create the four legal and infrastructure files required for open-source release: MIT LICENSE, CITATION.cff, CHANGELOG.md, and install.m path setup script.

Purpose: These files make the repository legally distributable (LICENSE), academically citable (CITATION.cff), version-tracked (CHANGELOG.md), and installable (install.m).
Output: Four new files at repository root.
</objective>

<execution_context>
@/Users/maxwellsdm/.claude/get-shit-done/workflows/execute-plan.md
@/Users/maxwellsdm/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/01-foundation-legal/01-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create LICENSE and CITATION.cff</name>
  <files>LICENSE, CITATION.cff</files>
  <action>
1. Create `LICENSE` file (no extension) at repository root with MIT License text:
   - Copyright year: 2026
   - Copyright holder: Use "The epicTreeGUI Authors" as placeholder (standard for collaborative projects)
   - Use the exact MIT License text from https://choosealicense.com/licenses/mit/

2. Create `CITATION.cff` at repository root following CFF 1.2.0 spec:
   ```yaml
   cff-version: 1.2.0
   message: "If you use this software, please cite it as below."
   type: software
   title: "EpicTreeGUI: Hierarchical Browser for Neurophysiology Data"
   version: 1.0.0
   date-released: 2026-02-28
   authors:
     - name: "The epicTreeGUI Authors"
   repository-code: "https://github.com/Rieke-Lab/epicTreeGUI"
   keywords:
     - neuroscience
     - electrophysiology
     - data analysis
     - MATLAB
     - neurophysiology
     - epoch tree
   license: MIT
   abstract: >
     EpicTreeGUI is a pure MATLAB GUI for hierarchical browsing and analysis
     of neurophysiology epoch data. It provides dynamic tree organization
     using configurable splitting criteria, enabling efficient data subset
     selection and comparative analysis across experimental conditions.
   ```
   Note: Author names and repository URL are placeholders — user can update before release.

3. Create `CHANGELOG.md` at repository root following Keep a Changelog 1.0.0 format:
   - Header explaining the format
   - `## [1.0.0] - 2026-02-28` section with high-level summary of what v1.0 includes:
     - Added: epicTreeTools hierarchical tree system, epicTreeGUI browser interface, 22+ splitter functions, getSelectedData data extraction, .ugm persistence for selection state, install.m for path setup
     - Changed: Pure MATLAB replacement of legacy Java-based epoch tree system
   - Keep it brief — this is a summary, not exhaustive commit log
  </action>
  <verify>
- `cat LICENSE` shows MIT License text with 2026 copyright
- `cat CITATION.cff` is valid YAML with cff-version: 1.2.0
- `cat CHANGELOG.md` follows Keep a Changelog format with [1.0.0] entry
  </verify>
  <done>LICENSE, CITATION.cff, and CHANGELOG.md exist at root with correct content and standard formats</done>
</task>

<task type="auto">
  <name>Task 2: Create install.m path setup script</name>
  <files>install.m</files>
  <action>
Create `install.m` at repository root as a MATLAB function that:

1. Uses `mfilename('fullpath')` to get installation directory (portable across systems)

2. Adds these specific paths (NOT genpath — explicit subdirectories only):
   - `src/`
   - `src/tree/`
   - `src/tree/graphicalTree/`
   - `src/splitters/`
   - `src/utilities/`
   - `src/config/` (if it exists)
   - Root directory itself (for epicTreeGUI.m)

   Use `fullfile(installDir, 'src')` pattern for cross-platform paths.

3. Verification section:
   - Check `which('epicTreeTools')` returns a path within installDir
   - Check `which('epicTreeGUI')` returns a path within installDir
   - Check `which('getSelectedData')` returns a path within installDir
   - Print success message with version info

4. Optional path saving:
   - Ask user if they want to save path for future sessions
   - Call `savepath` if confirmed
   - Warn if not saved that paths are session-only

5. Help text:
   - Function header with description, usage instructions
   - Clear messaging about what the script does
   - No emojis — use text markers like [OK], [WARN], [ERROR]

6. Error handling:
   - If verification fails, print clear error with diagnostic info
   - Check that src/ directory exists before trying to add paths
  </action>
  <verify>
Run in MATLAB: `mcp__matlab__evaluate_matlab_code` with:
```matlab
% Verify install.m exists and is syntactically valid
which install
type install
```
Or use `mcp__matlab__check_matlab_code` on install.m for static analysis.
  </verify>
  <done>install.m exists at root, adds all required source paths, verifies installation, and optionally saves MATLAB path</done>
</task>

</tasks>

<verification>
1. `LICENSE` file exists at root with MIT License text
2. `CITATION.cff` exists at root with valid CFF 1.2.0 metadata
3. `CHANGELOG.md` exists at root with v1.0.0 entry
4. `install.m` exists at root and passes MATLAB static analysis (checkcode)
5. install.m adds paths for src/, src/tree/, src/tree/graphicalTree/, src/splitters/, src/utilities/
6. install.m verifies epicTreeTools and epicTreeGUI are on path after installation
</verification>

<success_criteria>
All four files (LICENSE, CITATION.cff, CHANGELOG.md, install.m) exist at repository root with correct content. install.m successfully adds all source directories to MATLAB path when run.
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation-legal/01-02-SUMMARY.md`
</output>
